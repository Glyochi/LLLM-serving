{
  "name": "tensorrt_llm_bls",
  "platform": "",
  "backend": "python",
  "runtime": "",
  "version_policy": {
    "latest": {
      "num_versions": 1
    }
  },
  "max_batch_size": 64,
  "input": [
    {
      "name": "text_input",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "decoder_text_input",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "image_input",
      "data_type": "TYPE_FP16",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        3,
        -1,
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "image_bytes_input",
      "data_type": "TYPE_UINT8",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        -1,
        -1,
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "image_url_input",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "video_bytes_input",
      "data_type": "TYPE_UINT8",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        -1,
        -1,
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "max_tokens",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "bad_words",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "stop_words",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "exclude_input_in_output",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "end_id",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "pad_id",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "top_k",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "top_p",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "temperature",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "length_penalty",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "repetition_penalty",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "min_tokens",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "presence_penalty",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "frequency_penalty",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "seed",
      "data_type": "TYPE_UINT64",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_log_probs",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_context_logits",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_generation_logits",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "num_return_sequences",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "beam_width",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "stream",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "prompt_embedding_table",
      "data_type": "TYPE_FP16",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "prompt_vocab_size",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "prompt_table_extra_id",
      "data_type": "TYPE_UINT64",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "embedding_bias_words",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "embedding_bias_weights",
      "data_type": "TYPE_FP32",
      "format": "FORMAT_NONE",
      "dims": [
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "num_draft_tokens",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "use_draft_logits",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "lora_task_id",
      "data_type": "TYPE_UINT64",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "lora_weights",
      "data_type": "TYPE_FP16",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        -1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": true,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "lora_config",
      "data_type": "TYPE_INT32",
      "format": "FORMAT_NONE",
      "dims": [
        -1,
        3
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": true,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_perf_metrics",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_num_input_tokens",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "return_num_output_tokens",
      "data_type": "TYPE_BOOL",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "reshape": {
        "shape": []
      },
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "guided_decoding_guide_type",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    },
    {
      "name": "guided_decoding_guide",
      "data_type": "TYPE_STRING",
      "format": "FORMAT_NONE",
      "dims": [
        1
      ],
      "is_shape_tensor": false,
      "allow_ragged_batch": false,
      "optional": true,
      "is_non_linear_format_io": false
    }
  ],
  "output": [
    {
      "name": "text_output",
      "data_type": "TYPE_STRING",
      "dims": [
        -1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "cum_log_probs",
      "data_type": "TYPE_FP32",
      "dims": [
        -1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "output_log_probs",
      "data_type": "TYPE_FP32",
      "dims": [
        -1,
        -1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "context_logits",
      "data_type": "TYPE_FP32",
      "dims": [
        -1,
        -1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "generation_logits",
      "data_type": "TYPE_FP32",
      "dims": [
        -1,
        -1,
        -1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "batch_index",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "sequence_index",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "kv_cache_alloc_new_blocks",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "kv_cache_reused_blocks",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "kv_cache_alloc_total_blocks",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "arrival_time_ns",
      "data_type": "TYPE_INT64",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "first_scheduled_time_ns",
      "data_type": "TYPE_INT64",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "first_token_time_ns",
      "data_type": "TYPE_INT64",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "last_token_time_ns",
      "data_type": "TYPE_INT64",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "acceptance_rate",
      "data_type": "TYPE_FP32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "total_accepted_draft_tokens",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "total_draft_tokens",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "num_input_tokens",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    },
    {
      "name": "num_output_tokens",
      "data_type": "TYPE_INT32",
      "dims": [
        1
      ],
      "label_filename": "",
      "is_shape_tensor": false,
      "is_non_linear_format_io": false
    }
  ],
  "batch_input": [],
  "batch_output": [],
  "optimization": {
    "priority": "PRIORITY_DEFAULT",
    "input_pinned_memory": {
      "enable": true
    },
    "output_pinned_memory": {
      "enable": true
    },
    "gather_kernel_buffer_threshold": 0,
    "eager_batching": false
  },
  "instance_group": [
    {
      "name": "tensorrt_llm_bls_0",
      "kind": "KIND_CPU",
      "count": 1,
      "gpus": [],
      "secondary_devices": [],
      "profile": [],
      "passive": false,
      "host_policy": ""
    }
  ],
  "default_model_filename": "model.py",
  "cc_model_filenames": {},
  "metric_tags": {},
  "parameters": {
    "tensorrt_llm_model_name": {
      "string_value": "${tensorrt_llm_model_name}"
    },
    "multimodal_encoders_name": {
      "string_value": "${multimodal_encoders_name}"
    },
    "tensorrt_llm_draft_model_name": {
      "string_value": "${tensorrt_llm_draft_model_name}"
    },
    "accumulate_tokens": {
      "string_value": "False"
    }
  },
  "model_warmup": [],
  "model_transaction_policy": {
    "decoupled": true
  }
}
